"use strict";!function(a){function b(){a(".js-play-video").click(function(){myPlaylist.pause(),trackEnded();var b=a(this).attr("data-id"),d=a(this).attr("data-source");c(b,d)})}function c(b,c){"youtube"==c&&a('<div class="media--video__content">').appendTo("body").html('<div class="layer"><iframe id="video" width="100%" height="100%" src="http://www.youtube.com/embed/'+b+'?enablejsapi=1&vq=hd1080&controls=1&rel=0&fs=1&modestbranding=1&showinfo=0&wmode=transparent&autoplay=1" frameborder="0"></iframe></div><div class="close js-close"></div>'),"vimeo"==c&&a('<div class="media--video__content">').appendTo("body").html('<div class="layer"><iframe width="100%" height="100%" src="//player.vimeo.com/video/'+b+'?api=1&amp;autoplay=1" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen id="video"></iframe></div><div class="close js-close"></div>'),a(".js-close").on("click",function(b){a(".media--video__content").remove()})}var d=window.getComputedStyle(document.body,":after").getPropertyValue("content");a(document).ready(function(){b();var c=a(".nav"),e=a(".off-canvas"),f=a(".hamburger"),g=a(".hamburger__title"),h=a(".js-mobile-nav-toggle");if(h.on("touchstart click",function(a){a.preventDefault(),c.toggleClass("open"),e.toggleClass("off-canvas-is-open"),f.toggleClass("close"),f.hasClass("close")?g.html("Close"):g.html("Menu")}),a(".tabs li").click(function(){var b=a(this).attr("data-tab");a(".tabs li").removeClass("is-selected"),a(".tabs__content").removeClass("is-open"),a(this).addClass("is-selected"),a("#"+b).addClass("is-open")}),-1!=d.indexOf("largelayout")){var i=a(".social-mash__tile--instagram .social-mash__content").width();a(".social-mash__content").css("height",i)}a("#form--contact").submit(function(){var b=!1,c=a("#userName");(""==c.val()||"undefined"===c.val())&&(c.addClass("has-error"),b=!0);var d=a("#userEmail");if(""==d.val()||"undefined"===d.val()?(d.addClass("has-error"),b=!0):""==d.val()||/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(d.val())?d.removeClass("has-error"):(d.val(""),d.addClass("has-error"),b=!0),b)return!1;var e=a(this).attr("action");return a("#form-message").slideUp(750,function(){a("#form-message").hide(),a(".js-form-submit").html('Sending <span class="dots"><span>.</span><span>.</span><span>.</span></span>').attr("disabled","disabled"),a.post(e,{name:a("#userName").val(),email:a("#userEmail").val(),message:a("#userMessage").val()},function(b){null!=b.match("success")?a(".js-form-submit").fadeOut("slow",function(){a(".js-form-submit").removeAttr("disabled"),document.getElementById("form-message").innerHTML=b,a("#form-message").show()}):null!=b.match("server-error")&&a(".js-form-submit").fadeOut("slow",function(){a(".js-form-submit").removeAttr("disabled"),document.getElementById("form-message").innerHTML=b,a("#form-message").show()})})}),!1}),a("#form--newsletter").submit(function(){var b=!1,c=a("#userEmail");if(""==c.val()||"undefined"===c.val()?(c.addClass("has-error"),b=!0):""==c.val()||/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(c.val())?c.removeClass("has-error"):(c.val(""),c.addClass("has-error"),b=!0),b)return!1;var d=a(this).attr("action");return a("#form-message").slideUp(750,function(){a("#form-message").hide(),a(".js-form-submit").html('Sending <span class="dots"><span>.</span><span>.</span><span>.</span></span>').attr("disabled","disabled"),a.post(d,{email:a("#userEmail").val()},function(b){null!=b.match("success")?a("#form--newsletter").fadeOut("slow",function(){document.getElementById("form-message").innerHTML=b,a("#form-message").show(),a(".js-form-submit").fadeOut("slow",function(){a(this).remove()}),a(".js-form-submit").removeAttr("disabled")}):null!=b.match("server-error")&&a("#form--newsletter").fadeOut("slow",function(){document.getElementById("form-message").innerHTML=b,a("#form-message").show(),a(".js-form-submit").fadeOut("slow",function(){a(this).remove()}),a(".js-form-submit").removeAttr("disabled")})})}),!1}),a(":input").click(function(){a(this).removeClass("has-error").removeClass("has-success")}),a(".form__error-message").click(function(){a(this).removeClass("has-error").removeClass("has-success"),a(this).html(""),a(this).prev(":input").focus()}),a(":input").focus(function(){a(this).removeClass("has-error").removeClass("has-success")})}),a(window).resize(function(){d=window.getComputedStyle(document.body,":after").getPropertyValue("content")})}(jQuery);